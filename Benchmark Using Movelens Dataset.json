{"paragraphs":[{"text":"%md\n\n# Simple Benchmark ","user":"yava","dateUpdated":"2021-11-30T10:00:34+0700","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h1>Simple Benchmark</h1>\n</div>"}]},"apps":[],"jobName":"paragraph_1638241234696_1334707387","id":"20211114-130513_796275419","dateCreated":"2021-11-30T10:00:34+0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:75170"},{"text":"%python\nfrom datetime import datetime\n\ntick = datetime.now()\n","user":"yava","dateUpdated":"2021-11-30T10:00:34+0700","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1638241234701_-39559470","id":"20211114-115656_1028351777","dateCreated":"2021-11-30T10:00:34+0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:75171"},{"text":"date","user":"yava","dateUpdated":"2021-11-30T10:00:34+0700","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1638241234704_-700779306","id":"20211114-102333_1839122201","dateCreated":"2021-11-30T10:00:34+0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:75172"},{"text":"whoami","user":"yava","dateUpdated":"2021-11-30T10:00:34+0700","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1638241234707_2006175167","id":"20211114-102339_1821496788","dateCreated":"2021-11-30T10:00:34+0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:75173"},{"text":"pwd","user":"yava","dateUpdated":"2021-11-30T10:00:34+0700","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1638241234709_-2007563158","id":"20211114-102349_1222167657","dateCreated":"2021-11-30T10:00:34+0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:75174"},{"title":"Download movielens dataset","text":"mkdir -p dataset","user":"yava","dateUpdated":"2021-11-30T10:00:34+0700","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1638241234712_1692858390","id":"20211114-102420_1073647171","dateCreated":"2021-11-30T10:00:34+0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:75175"},{"text":"if [ -f \"dataset/ml-latest-small.zip\" ]; then\n    rm -f dataset/ml-latest-small.zip\nfi","user":"yava","dateUpdated":"2021-11-30T10:00:34+0700","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1638241234714_1561008931","id":"20211114-102619_1368361098","dateCreated":"2021-11-30T10:00:34+0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:75176"},{"text":"wget http://files.grouplens.org/datasets/movielens/ml-latest-small.zip -P dataset","user":"yava","dateUpdated":"2021-11-30T10:00:34+0700","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1638241234717_401815788","id":"20211114-102546_1707349341","dateCreated":"2021-11-30T10:00:34+0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:75177"},{"text":"ls -lah dataset","user":"yava","dateUpdated":"2021-11-30T10:00:34+0700","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1638241234719_-1018808119","id":"20211114-102600_1982851799","dateCreated":"2021-11-30T10:00:34+0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:75178"},{"text":"if [ -d \"dataset/ml-latest-small\" ]; then\n    rm -rf dataset/ml-latest-small\nfi","user":"yava","dateUpdated":"2021-11-30T10:00:34+0700","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1638241234721_704459626","id":"20211114-103102_833558023","dateCreated":"2021-11-30T10:00:34+0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:75179"},{"text":"unzip -a dataset/ml-latest-small.zip -d dataset/","user":"yava","dateUpdated":"2021-11-30T10:00:34+0700","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1638241234724_1442767027","id":"20211114-102610_197505708","dateCreated":"2021-11-30T10:00:34+0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:75180"},{"text":"if [ -d \"dataset/ml-latest-small\" ]; then\n    echo \"exist\"\nfi","user":"yava","dateUpdated":"2021-11-30T10:00:34+0700","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1638241234726_1114476831","id":"20211114-102905_1658963553","dateCreated":"2021-11-30T10:00:34+0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:75181"},{"title":"Upload to HDFS","text":"if $(hdfs dfs -test -d benchmark/movielens)\nthen \n     hdfs dfs -rm -r -skipTrash benchmark/movielens\nfi\n","user":"yava","dateUpdated":"2021-11-30T10:00:34+0700","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1638241234729_-804625941","id":"20211114-103017_1303877143","dateCreated":"2021-11-30T10:00:34+0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:75182"},{"text":"%sh\n\nhdfs dfs -mkdir -p benchmark/movielens/movies","user":"yava","dateUpdated":"2021-11-30T10:00:34+0700","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1638241234731_-911257881","id":"20211114-124803_210825515","dateCreated":"2021-11-30T10:00:34+0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:75183"},{"text":"hdfs dfs -ls benchmark","user":"yava","dateUpdated":"2021-11-30T10:00:34+0700","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1638241234733_421143004","id":"20211114-103516_1882930374","dateCreated":"2021-11-30T10:00:34+0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:75184"},{"text":"hdfs dfs -put dataset/ml-latest-small/*.csv benchmark/movielens","user":"yava","dateUpdated":"2021-11-30T10:00:34+0700","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1638241234736_-1172561374","id":"20211114-103532_260396839","dateCreated":"2021-11-30T10:00:34+0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:75185"},{"text":"hdfs dfs -ls benchmark/movielens","user":"yava","dateUpdated":"2021-11-30T10:00:34+0700","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1638241234739_-1847431076","id":"20211114-104103_605733823","dateCreated":"2021-11-30T10:00:34+0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:75186"},{"text":"hdfs dfs -cp benchmark/movielens/movies.csv benchmark/movielens/movies","user":"yava","dateUpdated":"2021-11-30T10:00:34+0700","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1638241234741_-609384301","id":"20211114-104234_663001036","dateCreated":"2021-11-30T10:00:34+0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:75187"},{"title":"Create database/schema","text":"%hive\nselect logged_in_user()","user":"yava","dateUpdated":"2021-11-30T10:00:34+0700","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"title":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"_c0":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1638241234743_1511197251","id":"20211114-104428_1672052633","dateCreated":"2021-11-30T10:00:34+0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:75188"},{"text":"%hive\nshow databases","user":"yava","dateUpdated":"2021-11-30T10:00:34+0700","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"database_name":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1638241234744_-280215287","id":"20211114-104117_580916478","dateCreated":"2021-11-30T10:00:34+0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:75189"},{"text":"%hive\nCREATE DATABASE IF NOT EXISTS <user>","user":"yava","dateUpdated":"2021-11-30T10:01:36+0700","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1638241234746_-506158291","id":"20211114-104441_343157222","dateCreated":"2021-11-30T10:00:34+0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:75190"},{"text":"%hive\nUSE <user>","user":"yava","dateUpdated":"2021-11-30T10:01:43+0700","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1638241234748_1531711846","id":"20211114-104609_1120655166","dateCreated":"2021-11-30T10:00:34+0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:75191"},{"text":"%hive\nSHOW TABLES","user":"yava","dateUpdated":"2021-11-30T10:00:34+0700","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"tab_name":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1638241234749_1313998355","id":"20211114-104617_1869581878","dateCreated":"2021-11-30T10:00:34+0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:75192"},{"title":"Create movies table","text":"%hive\nDROP TABLE IF EXISTS movies","user":"yava","dateUpdated":"2021-11-30T10:00:34+0700","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1638241234751_769110118","id":"20211114-104904_2064783048","dateCreated":"2021-11-30T10:00:34+0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:75193"},{"text":"%sh\n\nhdfs dfs -ls /user/<user>/benchmark/movielens/movies","user":"yava","dateUpdated":"2021-11-30T10:01:51+0700","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1638241234752_1688055297","id":"20211114-123928_1160155969","dateCreated":"2021-11-30T10:00:34+0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:75194"},{"text":"%hive\nCREATE EXTERNAL TABLE movies(\n    movieId string, \n    title string, \n    genres string)\nROW FORMAT SERDE\n    'org.apache.hadoop.hive.serde2.OpenCSVSerde'\nWITH SERDEPROPERTIES (\n    'separatorChar' = ',',\n    'quoteChar' = '\"',\n    'escapeChar' = '\\\\')\nSTORED AS INPUTFORMAT\n    'org.apache.hadoop.mapred.TextInputFormat'\nOUTPUTFORMAT\n    'org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat'\nLOCATION\n    '/user/<user>/benchmark/movielens/movies'\nTBLPROPERTIES (\n    'serialization.null.format' = '',\n    'skip.header.line.count' = '1')","user":"yava","dateUpdated":"2021-11-30T10:02:02+0700","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1638241234754_1567665694","id":"20211114-104940_1669685414","dateCreated":"2021-11-30T10:00:34+0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:75195"},{"text":"%hive\n-- 7 sec\nSELECT count(*) FROM movies","user":"yava","dateUpdated":"2021-11-30T10:00:34+0700","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"_c0":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1638241234756_877657540","id":"20211114-105129_718639410","dateCreated":"2021-11-30T10:00:34+0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:75196"},{"text":"%hive\nselect * from movies limit 10","user":"yava","dateUpdated":"2021-11-30T10:00:34+0700","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"movies.movieid":"string","movies.title":"string","movies.genres":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1638241234757_1475539238","id":"20211114-105150_1217949434","dateCreated":"2021-11-30T10:00:34+0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:75197"},{"text":"%hive\nSELECT LENGTH(movieId) as len_rec, count(*) as num_rec\nFROM movies\nGROUP BY LENGTH(movieId)\n","user":"yava","dateUpdated":"2021-11-30T10:00:34+0700","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"len_rec":"string","num_rec":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1638241234759_-479204857","id":"20211114-105217_288077580","dateCreated":"2021-11-30T10:00:34+0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:75198"},{"title":"Create ratings table","text":"%hive\n\nDROP TABLE IF EXISTS ratings","user":"yava","dateUpdated":"2021-11-30T10:00:34+0700","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1638241234761_1386064631","id":"20211114-105234_1070568340","dateCreated":"2021-11-30T10:00:34+0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:75199"},{"text":"%sh\n\nhdfs dfs -ls benchmark/movielens","user":"yava","dateUpdated":"2021-11-30T10:00:34+0700","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1638241234762_-1249018925","id":"20211114-105347_619242606","dateCreated":"2021-11-30T10:00:34+0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:75200"},{"text":"%sh\n\nif $(hdfs dfs -test -d benchmark/movielens/ratings)\nthen \n     hdfs dfs -rm -r -skipTrash benchmark/movielens/ratings\nfi\n","user":"yava","dateUpdated":"2021-11-30T10:00:34+0700","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1638241234764_-781973624","id":"20211114-105400_986219652","dateCreated":"2021-11-30T10:00:34+0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:75201"},{"text":"%sh\nhdfs dfs -mkdir -p benchmark/movielens/ratings\nhdfs dfs -cp benchmark/movielens/ratings.csv benchmark/movielens/ratings","user":"yava","dateUpdated":"2021-11-30T10:00:34+0700","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1638241234765_1613062081","id":"20211114-124132_1991049941","dateCreated":"2021-11-30T10:00:34+0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:75202"},{"text":"%sh\nhdfs dfs -ls benchmark/movielens/ratings","user":"yava","dateUpdated":"2021-11-30T10:00:34+0700","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1638241234767_-135639222","id":"20211114-115327_1694178845","dateCreated":"2021-11-30T10:00:34+0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:75203"},{"text":"%hive\n\nCREATE EXTERNAL TABLE ratings(\n    userId string,\n    movieId string,\n    rating double,\n    times_tamp bigint)\nROW FORMAT SERDE\n    'org.apache.hadoop.hive.serde2.OpenCSVSerde'\nWITH SERDEPROPERTIES (\n    'separatorChar' = ',',\n    'quoteChar' = '\"',\n    'escapeChar' = '\\\\')\nSTORED AS INPUTFORMAT\n    'org.apache.hadoop.mapred.TextInputFormat'\nOUTPUTFORMAT\n    'org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat'\nLOCATION\n    '/user/<user>/benchmark/movielens/ratings'\nTBLPROPERTIES (\n    'serialization.null.format' = '',\n    'skip.header.line.count' = '1')\n","user":"yava","dateUpdated":"2021-11-30T10:02:14+0700","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1638241234768_-1206401876","id":"20211114-105609_1267258684","dateCreated":"2021-11-30T10:00:34+0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:75204"},{"title":"Calculate number of records","text":"%hive\nSELECT count(*) FROM ratings","user":"yava","dateUpdated":"2021-11-30T10:00:34+0700","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"title":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"_c0":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1638241234770_-1829207116","id":"20211114-105701_1630736768","dateCreated":"2021-11-30T10:00:34+0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:75205"},{"text":"%hive\n\nselect * from ratings limit 5","user":"yava","dateUpdated":"2021-11-30T10:00:34+0700","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"ratings.userid":"string","ratings.movieid":"string","ratings.rating":"string","ratings.times_tamp":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1638241234771_2140087582","id":"20211114-105714_366559610","dateCreated":"2021-11-30T10:00:34+0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:75206"},{"text":"%hive\n\nSELECT rating, count(*) num_record\nFROM ratings\nGROUP BY rating\nORDER BY rating","user":"yava","dateUpdated":"2021-11-30T10:00:34+0700","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"results":{"0":{"graph":{"mode":"multiBarChart","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"rating":"string","num_record":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false},"multiBarChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"}},"commonSetting":{},"keys":[{"name":"rating","index":0,"aggr":"sum"}],"groups":[],"values":[{"name":"num_record","index":1,"aggr":"sum"}]},"helium":{}}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1638241234773_206061854","id":"20211114-111138_1182723905","dateCreated":"2021-11-30T10:00:34+0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:75207"},{"text":"%hive\nSELECT t2.movieid movieId, t2.title title, avg(t1.rating) avg_rating \nFROM ratings t1 \nLEFT JOIN movies t2 on t1.movieid = t2.movieid \nGROUP BY t2.movieid, t2.title\nORDER BY avg_rating desc\nLIMIT 10","user":"yava","dateUpdated":"2021-11-30T10:00:34+0700","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"movieid":"string","title":"string","avg_rating":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1638241234775_1036010110","id":"20211114-105817_1631619952","dateCreated":"2021-11-30T10:00:34+0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:75208"},{"text":"%hive\n\nSELECT count(*) FROM\n(\nSELECT t2.movieid movieId, t2.title title, avg(t1.rating) avg_rating \nFROM ratings t1 \nLEFT JOIN movies t2 on t1.movieid = t2.movieid \nGROUP BY t2.movieid, t2.title\nORDER BY avg_rating desc\n) t","user":"yava","dateUpdated":"2021-11-30T10:00:34+0700","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"_c0":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1638241234777_1334642025","id":"20211114-105927_315794993","dateCreated":"2021-11-30T10:00:34+0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:75209"},{"title":"Remove downloaded file","text":"%sh\nif [ -f \"dataset/ml-latest-small.zip\" ]; then\n    rm -f dataset/ml-latest-small.zip\nfi\n\nif [ -d \"dataset/ml-latest-small\" ]; then\n    rm -rf dataset/ml-latest-small\nfi\n\nls -lah dataset","user":"yava","dateUpdated":"2021-11-30T10:00:34+0700","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1638241234778_1140707875","id":"20211114-124319_2021471589","dateCreated":"2021-11-30T10:00:34+0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:75210"},{"title":"Remove files on HDFS","text":"%sh\n\nif $(hdfs dfs -test -d benchmark/movielens)\nthen \n     hdfs dfs -rm -r -skipTrash benchmark/movielens\nfi","user":"yava","dateUpdated":"2021-11-30T10:00:34+0700","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1638241234780_-88864715","id":"20211114-124452_1696185685","dateCreated":"2021-11-30T10:00:34+0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:75211"},{"title":"Remove table","text":"%hive\nDROP TABLE IF EXISTS movies","user":"yava","dateUpdated":"2021-11-30T10:00:34+0700","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1638241234781_1153245396","id":"20211114-124607_828635960","dateCreated":"2021-11-30T10:00:34+0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:75212"},{"text":"%hive\nDROP TABLE IF EXISTS ratings","user":"yava","dateUpdated":"2021-11-30T10:00:34+0700","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1638241234783_1972311966","id":"20211114-124545_148181794","dateCreated":"2021-11-30T10:00:34+0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:75213"},{"title":"Remove database (optional)","text":"%hive\n-- DROP DATABASE <user> CASCADE","user":"yava","dateUpdated":"2021-11-30T10:02:45+0700","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1638241234784_-1834106096","id":"20211121-163618_1504485849","dateCreated":"2021-11-30T10:00:34+0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:75214"},{"text":"%python\n\ntock = datetime.now()   \ndiff = tock - tick    # the result is a datetime.timedelta object\nprint(diff.total_seconds())","user":"yava","dateUpdated":"2021-11-30T10:00:34+0700","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1638241234786_-938985270","id":"20211114-110129_1167694324","dateCreated":"2021-11-30T10:00:34+0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:75215"},{"text":"%python\nstr(diff)","user":"yava","dateUpdated":"2021-11-30T10:00:34+0700","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1638241234787_-393702174","id":"20211114-120048_671014666","dateCreated":"2021-11-30T10:00:34+0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:75216"},{"text":"%md\n\nTime elapse: 0:01:10.265104 (hive connection sudah ada)","user":"yava","dateUpdated":"2021-11-30T10:00:34+0700","config":{"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1638241234789_1337821552","id":"20211114-120837_1252077148","dateCreated":"2021-11-30T10:00:34+0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:75217"},{"text":"%md\n# DONE","user":"yava","dateUpdated":"2021-11-30T10:00:34+0700","config":{"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1638241234790_-1582067502","id":"20211114-125302_378170479","dateCreated":"2021-11-30T10:00:34+0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:75218"}],"name":"Benchmark Using Movelens Dataset","id":"2GNFQKKF4","noteParams":{},"noteForms":{},"angularObjects":{"md:shared_process":[],"python:shared_process":[],"hive:yava:":[],"sh:yava:":[]},"config":{"isZeppelinNotebookCronEnable":false,"looknfeel":"default","personalizedMode":"false"},"info":{}}